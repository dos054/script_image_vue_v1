(function(){"use strict";var e={3044:function(e,t,l){var i=l(5130),n=l(6768),a=l(4232),o=l(144),r=l(4373);const u={key:0},d={style:{display:"flex"}},p={style:{display:"flex","flex-wrap":"wrap",padding:"10px"}},c=["value","disabled"],s=["src"],v={key:1,style:{padding:"20px"}},f={style:{border:"1px solid #ddd",padding:"20px","margin-top":"10px"}},y={key:0},g={key:1,style:{"white-space":"pre-wrap"}},h={key:2,style:{padding:"20px"}},k={style:{border:"1px solid #ddd",padding:"20px","margin-top":"10px"}},x={key:0},m={key:1},b={key:0},L={key:1,style:{display:"flex","flex-wrap":"wrap"}},w=["src"];var C={__name:"App",setup(e){const t=(0,o.KR)([]),l=(0,o.KR)([]),C=(0,o.KR)("main"),E=(0,o.KR)(""),O=(0,o.KR)([]),X=(0,o.KR)(!1),_=async()=>{try{const e=await r.A.get("http://localhost:8083/api/products");t.value=e.data}catch(e){console.error("상품 조회 실패",e)}},j=async()=>{if(2===l.value.length){C.value="compare",X.value=!0;try{const e=await r.A.post("http://localhost:8083/api/compare",{pcode1:l.value[0],pcode2:l.value[1]});E.value=e.data.analysis}catch(e){E.value="비교 중 오류가 발생했습니다."}finally{X.value=!1}}else alert("상품 두 개를 선택해 주세요")},K=async()=>{if(1===l.value.length){C.value="similar",X.value=!0,O.value=[];try{const e=await r.A.get("http://localhost:8083/api/similar-images",{params:{pcode:l.value[0],top:10}});e.data.success?O.value=e.data.similarImages:alert("유사 이미지 검색 실패: "+e.data.error)}catch(e){alert("유사 이미지 검색 중 오류가 발생했습니다.")}finally{X.value=!1}}else alert("상품 한 개를 선택해 주세요")},I=()=>{C.value="main",E.value="",O.value=[]};return(0,n.sV)(_),(e,o)=>((0,n.uX)(),(0,n.CE)("div",null,["main"===C.value?((0,n.uX)(),(0,n.CE)("div",u,[o[3]||(o[3]=(0,n.Lk)("div",{style:{padding:"10px","border-bottom":"1px solid #ccc"}},[(0,n.Lk)("span",{style:{"font-weight":"bold"}},"LOGO"),(0,n.Lk)("input",{placeholder:"검색어를 입력하세요",style:{"margin-left":"20px",width:"300px"}})],-1)),(0,n.Lk)("div",{style:{padding:"10px","border-bottom":"1px solid #ccc"}},[o[1]||(o[1]=(0,n.Lk)("span",null,"홈 | 베스트 | 신상품",-1)),(0,n.Lk)("button",{onClick:K,style:{"margin-left":"20px"}},"유사이미지"),(0,n.Lk)("button",{onClick:j,style:{"margin-left":"10px"}},"비교하기")]),(0,n.Lk)("div",d,[o[2]||(o[2]=(0,n.Lk)("div",{style:{width:"150px","border-right":"1px solid #ccc",padding:"10px"}},[(0,n.Lk)("div",null,"기저귀"),(0,n.Lk)("div",null,"분유"),(0,n.Lk)("div",null,"이유식")],-1)),(0,n.Lk)("div",p,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(t.value,e=>((0,n.uX)(),(0,n.CE)("div",{key:e.pcode,style:{border:"1px solid #ddd",padding:"10px",margin:"5px",width:"180px"}},[(0,n.bo)((0,n.Lk)("input",{type:"checkbox",value:e.pcode,"onUpdate:modelValue":o[0]||(o[0]=e=>l.value=e),disabled:l.value.length>=2&&!l.value.includes(e.pcode)},null,8,c),[[i.lH,l.value]]),(0,n.Lk)("img",{src:`http://localhost:8083/images/${e.image}`,style:{width:"100%",height:"120px","object-fit":"cover"}},null,8,s),(0,n.Lk)("div",null,(0,a.v_)(e.productName),1),(0,n.Lk)("div",null,(0,a.v_)(e.priceMin?.toLocaleString()||"-")+"원",1)]))),128))])])])):"compare"===C.value?((0,n.uX)(),(0,n.CE)("div",v,[(0,n.Lk)("button",{onClick:I},"← 뒤로가기"),o[4]||(o[4]=(0,n.Lk)("h2",null,"상품 비교 결과",-1)),(0,n.Lk)("div",f,[X.value?((0,n.uX)(),(0,n.CE)("div",y,"분석 중...")):((0,n.uX)(),(0,n.CE)("div",g,(0,a.v_)(E.value),1))])])):"similar"===C.value?((0,n.uX)(),(0,n.CE)("div",h,[(0,n.Lk)("button",{onClick:I},"← 뒤로가기"),o[5]||(o[5]=(0,n.Lk)("h2",null,"유사 이미지 검색 결과",-1)),(0,n.Lk)("div",k,[X.value?((0,n.uX)(),(0,n.CE)("div",x,"검색 중...")):((0,n.uX)(),(0,n.CE)("div",m,[0===O.value.length?((0,n.uX)(),(0,n.CE)("div",b,"유사한 이미지를 찾을 수 없습니다.")):((0,n.uX)(),(0,n.CE)("div",L,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(O.value,e=>((0,n.uX)(),(0,n.CE)("div",{key:e.productId,style:{border:"1px solid #ddd",padding:"10px",margin:"5px",width:"150px","text-align":"center"}},[(0,n.Lk)("img",{src:`http://localhost:8083/images/${e.imageName}`,style:{width:"100%",height:"100px","object-fit":"cover"}},null,8,w),(0,n.Lk)("div",null,"ID: "+(0,a.v_)(e.productId),1),(0,n.Lk)("div",null,"유사도: "+(0,a.v_)((100*e.similarity).toFixed(1))+"%",1)]))),128))]))]))])])):(0,n.Q3)("",!0)]))}};const E=C;var O=E;(0,i.Ef)(O).mount("#app")}},t={};function l(i){var n=t[i];if(void 0!==n)return n.exports;var a=t[i]={exports:{}};return e[i].call(a.exports,a,a.exports,l),a.exports}l.m=e,function(){var e=[];l.O=function(t,i,n,a){if(!i){var o=1/0;for(p=0;p<e.length;p++){i=e[p][0],n=e[p][1],a=e[p][2];for(var r=!0,u=0;u<i.length;u++)(!1&a||o>=a)&&Object.keys(l.O).every(function(e){return l.O[e](i[u])})?i.splice(u--,1):(r=!1,a<o&&(o=a));if(r){e.splice(p--,1);var d=n();void 0!==d&&(t=d)}}return t}a=a||0;for(var p=e.length;p>0&&e[p-1][2]>a;p--)e[p]=e[p-1];e[p]=[i,n,a]}}(),function(){l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,{a:t}),t}}(),function(){l.d=function(e,t){for(var i in t)l.o(t,i)&&!l.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};l.O.j=function(t){return 0===e[t]};var t=function(t,i){var n,a,o=i[0],r=i[1],u=i[2],d=0;if(o.some(function(t){return 0!==e[t]})){for(n in r)l.o(r,n)&&(l.m[n]=r[n]);if(u)var p=u(l)}for(t&&t(i);d<o.length;d++)a=o[d],l.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return l.O(p)},i=self["webpackChunkvue_test"]=self["webpackChunkvue_test"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=l.O(void 0,[504],function(){return l(3044)});i=l.O(i)})();
//# sourceMappingURL=app.3e73916c.js.map