(function(){"use strict";var e={7300:function(e,a,t){var l=t(5130),n=(t(8111),t(116),t(8335),t(6768)),u=t(4232),i=t(144),c=t(4373);const r={class:"app"},o={key:0},s={class:"content"},v={class:"category"},d={class:"products"},p=["value","disabled"],k=["src"],f={class:"product-name"},m={class:"product-price"},y={key:1,class:"result-view"},g={class:"result-box"},h={key:0},L={key:1,class:"result-text"},b={key:2,class:"result-view"},C={key:0},_={key:1},E={key:0,class:"selected-product"},X=["src"],O={class:"selected-info"},w={class:"selected-name"},x={key:0},S={key:0},K={key:1},H={key:2},j={key:1},M={key:2,class:"products"},R=["src"],I={class:"product-name"},Q={class:"product-price"},A={class:"similarity"};var F={__name:"App",setup(e){const a=["기저귀","분유","이유식"],t=(0,i.KR)([]),F=(0,i.KR)([]),N=(0,i.KR)("main"),P=(0,i.KR)(""),T=(0,i.KR)([]),$=(0,i.KR)(null),B=(0,i.KR)(!1),V=async()=>{try{const e=await c.A.get("/api/products");t.value=e.data}catch(e){console.error("상품 조회 실패",e)}},G=async()=>{if(2===F.value.length){N.value="compare",B.value=!0;try{const e=await c.A.post("/api/compare",{pcode1:F.value[0],pcode2:F.value[1]});P.value=e.data.analysis}catch(e){P.value="비교 중 오류가 발생했습니다."}finally{B.value=!1}}else alert("상품 두 개를 선택해 주세요")},J=async()=>{if(1!==F.value.length)return void alert("상품 한 개를 선택해 주세요");N.value="similar",B.value=!0,T.value=[];const e=F.value[0],a=t.value.find(a=>a.pcode===e);if(a&&($.value={...a},a.priceBalance))try{const e=JSON.parse(a.priceBalance);$.value.priceHistory={month1:e["1"]?.[0]?.price,month3:e["3"]?.[0]?.price,month6:e["6"]?.[0]?.price}}catch(l){console.log("가격 추이 파싱 실패")}try{const a=await c.A.get("/api/similar-images",{params:{pcode:e,top:6}});a.data.success?T.value=a.data.similarImages:alert("유사 이미지 검색 실패: "+a.data.error)}catch(l){alert("유사 이미지 검색 중 오류가 발생했습니다.")}finally{B.value=!1}},U=()=>{N.value="main",P.value="",T.value=[],$.value=null};return(0,n.sV)(V),(e,i)=>((0,n.uX)(),(0,n.CE)("div",r,["main"===N.value?((0,n.uX)(),(0,n.CE)("div",o,[i[2]||(i[2]=(0,n.Lk)("header",{class:"header"},[(0,n.Lk)("div",{class:"logo"},"LOGO"),(0,n.Lk)("input",{class:"search",placeholder:"검색어를 입력하세요"})],-1)),(0,n.Lk)("nav",{class:"nav"},[i[1]||(i[1]=(0,n.Lk)("ul",{class:"nav-menu"},[(0,n.Lk)("li",null,"홈")],-1)),(0,n.Lk)("div",null,[(0,n.Lk)("button",{class:"btn",onClick:J},"유사이미지"),(0,n.Lk)("button",{class:"btn",onClick:G},"비교하기")])]),(0,n.Lk)("div",s,[(0,n.Lk)("aside",v,[(0,n.Lk)("ul",null,[((0,n.uX)(),(0,n.CE)(n.FK,null,(0,n.pI)(a,e=>(0,n.Lk)("li",{key:e},(0,u.v_)(e),1)),64))])]),(0,n.Lk)("section",d,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(t.value,e=>((0,n.uX)(),(0,n.CE)("div",{class:"product-box",key:e.pcode},[(0,n.bo)((0,n.Lk)("input",{type:"checkbox",class:"checkbox",value:e.pcode,"onUpdate:modelValue":i[0]||(i[0]=e=>F.value=e),disabled:F.value.length>=2&&!F.value.includes(e.pcode)},null,8,p),[[l.lH,F.value]]),(0,n.Lk)("img",{src:`/images/${e.image}`,class:"product-image",alt:"상품 이미지"},null,8,k),(0,n.Lk)("div",f,(0,u.v_)(e.productName),1),(0,n.Lk)("div",m,(0,u.v_)(e.priceMin?.toLocaleString()||"-")+"원",1)]))),128))])])])):"compare"===N.value?((0,n.uX)(),(0,n.CE)("div",y,[(0,n.Lk)("button",{class:"btn",onClick:U},"← 뒤로가기"),i[3]||(i[3]=(0,n.Lk)("h2",null,"상품 비교 결과",-1)),(0,n.Lk)("div",g,[B.value?((0,n.uX)(),(0,n.CE)("div",h,"분석 중...")):((0,n.uX)(),(0,n.CE)("div",L,(0,u.v_)(P.value),1))])])):"similar"===N.value?((0,n.uX)(),(0,n.CE)("div",b,[(0,n.Lk)("button",{class:"btn",onClick:U},"← 뒤로가기"),i[5]||(i[5]=(0,n.Lk)("h2",null,"유사 이미지 검색 결과",-1)),B.value?((0,n.uX)(),(0,n.CE)("div",C,"검색 중...")):((0,n.uX)(),(0,n.CE)("div",_,[$.value?((0,n.uX)(),(0,n.CE)("div",E,[(0,n.Lk)("img",{src:`/images/${$.value.image}`,class:"selected-image"},null,8,X),(0,n.Lk)("div",O,[(0,n.Lk)("div",w,(0,u.v_)($.value.productName),1),(0,n.Lk)("div",null,"최저가: "+(0,u.v_)($.value.priceMin?.toLocaleString()||"-")+"원 ~ 최고가: "+(0,u.v_)($.value.priceMax?.toLocaleString()||"-")+"원",1),$.value.priceHistory?((0,n.uX)(),(0,n.CE)("div",x,[$.value.priceHistory.month1?((0,n.uX)(),(0,n.CE)("span",S,"1개월 전: "+(0,u.v_)($.value.priceHistory.month1?.toLocaleString())+"원 | ",1)):(0,n.Q3)("",!0),$.value.priceHistory.month3?((0,n.uX)(),(0,n.CE)("span",K,"3개월 전: "+(0,u.v_)($.value.priceHistory.month3?.toLocaleString())+"원 | ",1)):(0,n.Q3)("",!0),$.value.priceHistory.month6?((0,n.uX)(),(0,n.CE)("span",H,"6개월 전: "+(0,u.v_)($.value.priceHistory.month6?.toLocaleString())+"원",1)):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0)])])):(0,n.Q3)("",!0),i[4]||(i[4]=(0,n.Lk)("h3",null,"유사한 상품",-1)),0===T.value.length?((0,n.uX)(),(0,n.CE)("div",j,"유사한 이미지를 찾을 수 없습니다.")):((0,n.uX)(),(0,n.CE)("section",M,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(T.value,e=>((0,n.uX)(),(0,n.CE)("div",{class:"product-box",key:e.productId},[(0,n.Lk)("img",{src:`/images/${e.imageName}`,class:"product-image"},null,8,R),(0,n.Lk)("div",I,(0,u.v_)(e.productName||"상품명 없음"),1),(0,n.Lk)("div",Q,"최저가: "+(0,u.v_)(e.priceMin?.toLocaleString()||"-")+"원",1),(0,n.Lk)("div",A,"유사도: "+(0,u.v_)((100*e.similarity).toFixed(1))+"%",1)]))),128))]))]))])):(0,n.Q3)("",!0)]))}},N=t(1241);const P=(0,N.A)(F,[["__scopeId","data-v-48046aec"]]);var T=P;(0,l.Ef)(T).mount("#app")}},a={};function t(l){var n=a[l];if(void 0!==n)return n.exports;var u=a[l]={exports:{}};return e[l].call(u.exports,u,u.exports,t),u.exports}t.m=e,function(){var e=[];t.O=function(a,l,n,u){if(!l){var i=1/0;for(s=0;s<e.length;s++){l=e[s][0],n=e[s][1],u=e[s][2];for(var c=!0,r=0;r<l.length;r++)(!1&u||i>=u)&&Object.keys(t.O).every(function(e){return t.O[e](l[r])})?l.splice(r--,1):(c=!1,u<i&&(i=u));if(c){e.splice(s--,1);var o=n();void 0!==o&&(a=o)}}return a}u=u||0;for(var s=e.length;s>0&&e[s-1][2]>u;s--)e[s]=e[s-1];e[s]=[l,n,u]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var l in a)t.o(a,l)&&!t.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:a[l]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};t.O.j=function(a){return 0===e[a]};var a=function(a,l){var n,u,i=l[0],c=l[1],r=l[2],o=0;if(i.some(function(a){return 0!==e[a]})){for(n in c)t.o(c,n)&&(t.m[n]=c[n]);if(r)var s=r(t)}for(a&&a(l);o<i.length;o++)u=i[o],t.o(e,u)&&e[u]&&e[u][0](),e[u]=0;return t.O(s)},l=self["webpackChunkvue_test"]=self["webpackChunkvue_test"]||[];l.forEach(a.bind(null,0)),l.push=a.bind(null,l.push.bind(l))}();var l=t.O(void 0,[504],function(){return t(7300)});l=t.O(l)})();
//# sourceMappingURL=app.9c1f3903.js.map